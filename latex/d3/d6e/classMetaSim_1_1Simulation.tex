\hypertarget{classMetaSim_1_1Simulation}{}\section{Meta\+Sim\+:\+:Simulation Class Reference}
\label{classMetaSim_1_1Simulation}\index{Meta\+Sim\+::\+Simulation@{Meta\+Sim\+::\+Simulation}}


{\ttfamily \#include $<$simul.\+hpp$>$}



Collaboration diagram for Meta\+Sim\+:\+:Simulation\+:
% FIG 0
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classMetaSim_1_1Simulation_a933df35120e8e0ee3fa3204d7e465323}{dbg\+Enter} (std\+::string lev, std\+::string header)
\item 
void \hyperlink{classMetaSim_1_1Simulation_a4619686b6133632beae97f4af3d78092}{dbg\+Exit} ()
\item 
void \hyperlink{classMetaSim_1_1Simulation_ad28462de8ce42a66b4319e1b49a499ec}{run} (\hyperlink{classMetaSim_1_1Tick}{Tick} length, int runs=1)
\item 
const \hyperlink{classMetaSim_1_1Tick}{Tick} \hyperlink{classMetaSim_1_1Simulation_ad5d3b77ec77e53d88be1ace99f957e87}{get\+Time} ()
\item 
void \hyperlink{classMetaSim_1_1Simulation_a75de7a10a8d62b283737bec56ad5456f}{clear\+Event\+Queue} ()
\item 
void {\bfseries print} ()\hypertarget{classMetaSim_1_1Simulation_a11e3774646883be33b004c6680d390e7}{}\label{classMetaSim_1_1Simulation_a11e3774646883be33b004c6680d390e7}

\item 
const \hyperlink{classMetaSim_1_1Tick}{Tick} \hyperlink{classMetaSim_1_1Simulation_a3e7f055482210de10d68fa6d93fb628d}{sim\+\_\+step} ()
\item 
void \hyperlink{classMetaSim_1_1Simulation_a8b556621a2c4efb505d8c8a93773271e}{init\+Runs} (int n\+Runs=1)
\item 
void \hyperlink{classMetaSim_1_1Simulation_ac8f7bba6a5931e6842404cc7a55b1fb5}{init\+Single\+Run} ()
\item 
void \hyperlink{classMetaSim_1_1Simulation_a90e6e0fdc8579f456fd49c992421285e}{end\+Single\+Run} ()
\item 
const \hyperlink{classMetaSim_1_1Tick}{Tick} \hyperlink{classMetaSim_1_1Simulation_af25030e87f1733ca9cd82f883833e458}{run\+\_\+to} (const \hyperlink{classMetaSim_1_1Tick}{Tick} \&stop)
\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{classMetaSim_1_1Simulation}{Simulation} \& {\bfseries get\+Instance} ()\hypertarget{classMetaSim_1_1Simulation_aff464ebe32d24a847be09df768afbdd4}{}\label{classMetaSim_1_1Simulation_aff464ebe32d24a847be09df768afbdd4}

\end{DoxyCompactItemize}
\subsection*{Data Fields}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classMetaSim_1_1DebugStream}{Debug\+Stream} {\bfseries dbg}\hypertarget{classMetaSim_1_1Simulation_a99e0b432ba6f7b376fd57b892d310df0}{}\label{classMetaSim_1_1Simulation_a99e0b432ba6f7b376fd57b892d310df0}

\end{DoxyCompactItemize}


\subsection{Detailed Description}
This singleton implements the simulation engine and some debugging facilities. The main function is {\itshape run(\hyperlink{classMetaSim_1_1Tick}{Tick} lenght, size\+\_\+t runs)} that is responsible for running the simulation for one or more times.

The {\itshape \hyperlink{classMetaSim_1_1Simulation_ad5d3b77ec77e53d88be1ace99f957e87}{get\+Time()}} returns the current global\+Time in the simulation; the dbg object is used for debugging output.

\begin{DoxyAuthor}{Author}
Giuseppe Lipari, Gerardo Lamastra 
\end{DoxyAuthor}


\subsection{Member Function Documentation}
\index{Meta\+Sim\+::\+Simulation@{Meta\+Sim\+::\+Simulation}!clear\+Event\+Queue@{clear\+Event\+Queue}}
\index{clear\+Event\+Queue@{clear\+Event\+Queue}!Meta\+Sim\+::\+Simulation@{Meta\+Sim\+::\+Simulation}}
\subsubsection[{\texorpdfstring{clear\+Event\+Queue()}{clearEventQueue()}}]{\setlength{\rightskip}{0pt plus 5cm}void Meta\+Sim\+::\+Simulation\+::clear\+Event\+Queue (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classMetaSim_1_1Simulation_a75de7a10a8d62b283737bec56ad5456f}{}\label{classMetaSim_1_1Simulation_a75de7a10a8d62b283737bec56ad5456f}
Drops and eventually deletes all events in the queue. To be called after an exception! \index{Meta\+Sim\+::\+Simulation@{Meta\+Sim\+::\+Simulation}!dbg\+Enter@{dbg\+Enter}}
\index{dbg\+Enter@{dbg\+Enter}!Meta\+Sim\+::\+Simulation@{Meta\+Sim\+::\+Simulation}}
\subsubsection[{\texorpdfstring{dbg\+Enter(std\+::string lev, std\+::string header)}{dbgEnter(std::string lev, std::string header)}}]{\setlength{\rightskip}{0pt plus 5cm}void Meta\+Sim\+::\+Simulation\+::dbg\+Enter (
\begin{DoxyParamCaption}
\item[{std\+::string}]{lev, }
\item[{std\+::string}]{header}
\end{DoxyParamCaption}
)}\hypertarget{classMetaSim_1_1Simulation_a933df35120e8e0ee3fa3204d7e465323}{}\label{classMetaSim_1_1Simulation_a933df35120e8e0ee3fa3204d7e465323}
Enters the {\itshape lev} debug level.

This function specifies that we are entering in the {\itshape lev} debug level and outputs the current simulation time follewed by the {\itshape header} string.


\begin{DoxyParams}{Parameters}
{\em lev} & A string that specifies the current debugging level.\\
\hline
{\em header} & This string that can be used for context sensitive information. For example, for printing the name of the function we are entering in.\\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\hyperlink{classMetaSim_1_1DebugStream}{Debug\+Stream} 
\end{DoxySeeAlso}
\index{Meta\+Sim\+::\+Simulation@{Meta\+Sim\+::\+Simulation}!dbg\+Exit@{dbg\+Exit}}
\index{dbg\+Exit@{dbg\+Exit}!Meta\+Sim\+::\+Simulation@{Meta\+Sim\+::\+Simulation}}
\subsubsection[{\texorpdfstring{dbg\+Exit()}{dbgExit()}}]{\setlength{\rightskip}{0pt plus 5cm}void Meta\+Sim\+::\+Simulation\+::dbg\+Exit (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classMetaSim_1_1Simulation_a4619686b6133632beae97f4af3d78092}{}\label{classMetaSim_1_1Simulation_a4619686b6133632beae97f4af3d78092}
Exits from the current debug level.

This function specifies that we are exiting the current debug level.

\begin{DoxySeeAlso}{See also}
\hyperlink{classMetaSim_1_1DebugStream}{Debug\+Stream} 
\end{DoxySeeAlso}
\index{Meta\+Sim\+::\+Simulation@{Meta\+Sim\+::\+Simulation}!end\+Single\+Run@{end\+Single\+Run}}
\index{end\+Single\+Run@{end\+Single\+Run}!Meta\+Sim\+::\+Simulation@{Meta\+Sim\+::\+Simulation}}
\subsubsection[{\texorpdfstring{end\+Single\+Run()}{endSingleRun()}}]{\setlength{\rightskip}{0pt plus 5cm}void Meta\+Sim\+::\+Simulation\+::end\+Single\+Run (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classMetaSim_1_1Simulation_a90e6e0fdc8579f456fd49c992421285e}{}\label{classMetaSim_1_1Simulation_a90e6e0fdc8579f456fd49c992421285e}
Function to help testing and debugging. \index{Meta\+Sim\+::\+Simulation@{Meta\+Sim\+::\+Simulation}!get\+Time@{get\+Time}}
\index{get\+Time@{get\+Time}!Meta\+Sim\+::\+Simulation@{Meta\+Sim\+::\+Simulation}}
\subsubsection[{\texorpdfstring{get\+Time()}{getTime()}}]{\setlength{\rightskip}{0pt plus 5cm}const {\bf Tick} Meta\+Sim\+::\+Simulation\+::get\+Time (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classMetaSim_1_1Simulation_ad5d3b77ec77e53d88be1ace99f957e87}{}\label{classMetaSim_1_1Simulation_ad5d3b77ec77e53d88be1ace99f957e87}
Returns the current simulation time. \index{Meta\+Sim\+::\+Simulation@{Meta\+Sim\+::\+Simulation}!init\+Runs@{init\+Runs}}
\index{init\+Runs@{init\+Runs}!Meta\+Sim\+::\+Simulation@{Meta\+Sim\+::\+Simulation}}
\subsubsection[{\texorpdfstring{init\+Runs(int n\+Runs=1)}{initRuns(int nRuns=1)}}]{\setlength{\rightskip}{0pt plus 5cm}void Meta\+Sim\+::\+Simulation\+::init\+Runs (
\begin{DoxyParamCaption}
\item[{int}]{n\+Runs = {\ttfamily 1}}
\end{DoxyParamCaption}
)}\hypertarget{classMetaSim_1_1Simulation_a8b556621a2c4efb505d8c8a93773271e}{}\label{classMetaSim_1_1Simulation_a8b556621a2c4efb505d8c8a93773271e}
Function to help testing and debugging.

Initializes the simulation runs. To be called just once before every simulation run.

Normally, this function is called from the \hyperlink{classMetaSim_1_1Simulation_ad28462de8ce42a66b4319e1b49a499ec}{Simulation\+::run()}. It is exposed here as an interface for debugging. \index{Meta\+Sim\+::\+Simulation@{Meta\+Sim\+::\+Simulation}!init\+Single\+Run@{init\+Single\+Run}}
\index{init\+Single\+Run@{init\+Single\+Run}!Meta\+Sim\+::\+Simulation@{Meta\+Sim\+::\+Simulation}}
\subsubsection[{\texorpdfstring{init\+Single\+Run()}{initSingleRun()}}]{\setlength{\rightskip}{0pt plus 5cm}void Meta\+Sim\+::\+Simulation\+::init\+Single\+Run (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classMetaSim_1_1Simulation_ac8f7bba6a5931e6842404cc7a55b1fb5}{}\label{classMetaSim_1_1Simulation_ac8f7bba6a5931e6842404cc7a55b1fb5}
Function to help testing and debugging.

Initializes a simulation run. To be called before the start of every simulation run.

Normally, this function is called from the \hyperlink{classMetaSim_1_1Simulation_ad28462de8ce42a66b4319e1b49a499ec}{Simulation\+::run()}. It is exposed here as an interface for debugging.

An example of debug call sequence is the following\+: 
\begin{DoxyCode}
\textcolor{comment}{// (simulation objects creation and initialization)}
\hyperlink{classMetaSim_1_1Simulation_a8b556621a2c4efb505d8c8a93773271e}{initRuns}();
\hyperlink{classMetaSim_1_1Simulation_ac8f7bba6a5931e6842404cc7a55b1fb5}{initSingleRun}();
\hyperlink{classMetaSim_1_1Simulation_af25030e87f1733ca9cd82f883833e458}{run\_to}(100);     \textcolor{comment}{// run up to tick 100}
\textcolor{comment}{// check object status}
\hyperlink{classMetaSim_1_1Simulation_a3e7f055482210de10d68fa6d93fb628d}{sim\_step}();      \textcolor{comment}{// run one step}
\textcolor{comment}{// check object status}
\textcolor{comment}{// ...}
\end{DoxyCode}
 \index{Meta\+Sim\+::\+Simulation@{Meta\+Sim\+::\+Simulation}!run@{run}}
\index{run@{run}!Meta\+Sim\+::\+Simulation@{Meta\+Sim\+::\+Simulation}}
\subsubsection[{\texorpdfstring{run(\+Tick length, int runs=1)}{run(Tick length, int runs=1)}}]{\setlength{\rightskip}{0pt plus 5cm}void Meta\+Sim\+::\+Simulation\+::run (
\begin{DoxyParamCaption}
\item[{{\bf Tick}}]{length, }
\item[{int}]{runs = {\ttfamily 1}}
\end{DoxyParamCaption}
)}\hypertarget{classMetaSim_1_1Simulation_ad28462de8ce42a66b4319e1b49a499ec}{}\label{classMetaSim_1_1Simulation_ad28462de8ce42a66b4319e1b49a499ec}
This function is the main simulator engine. After defining all the objects in a simulation, this function should be invoked for running the simulation.


\begin{DoxyCode}
\textcolor{comment}{// create entities ane events, link them to each other}
\textcolor{comment}{// create statistics and traces, attach them to the events}

\hyperlink{classMetaSim_1_1Simulation_ad28462de8ce42a66b4319e1b49a499ec}{Simulation::run}(10000, 10);   \textcolor{comment}{// run simulation 10 times, each one for 10000 ticks}

\textcolor{comment}{// collect and save statistics on files}
\end{DoxyCode}


At the beginning and at the end of each run, initialization and and finalization are called, respectively, namely the \hyperlink{classMetaSim_1_1Entity_a8d146c2ea3472c964f84cf20880ac0c9}{Entity\+::new\+Run()} and \hyperlink{classMetaSim_1_1Entity_aaf0dfabd7805ec027aa46b9b94a87e5b}{Entity\+::end\+Run()}. The random seed is not initialized at every run, but it is left as it is.

Of course, it makes sense to run multiple replicas of the same simulation only if the simulation itself includes random variables, otherwise the result will always be the same. See the statistical section for more details.


\begin{DoxyParams}{Parameters}
{\em length} & Length of each simulation run. \\
\hline
{\em runs} & Number of replicas. \\
\hline
\end{DoxyParams}
\index{Meta\+Sim\+::\+Simulation@{Meta\+Sim\+::\+Simulation}!run\+\_\+to@{run\+\_\+to}}
\index{run\+\_\+to@{run\+\_\+to}!Meta\+Sim\+::\+Simulation@{Meta\+Sim\+::\+Simulation}}
\subsubsection[{\texorpdfstring{run\+\_\+to(const Tick \&stop)}{run_to(const Tick &stop)}}]{\setlength{\rightskip}{0pt plus 5cm}const {\bf Tick} Meta\+Sim\+::\+Simulation\+::run\+\_\+to (
\begin{DoxyParamCaption}
\item[{const {\bf Tick} \&}]{stop}
\end{DoxyParamCaption}
)}\hypertarget{classMetaSim_1_1Simulation_af25030e87f1733ca9cd82f883833e458}{}\label{classMetaSim_1_1Simulation_af25030e87f1733ca9cd82f883833e458}
Function to help testing and debugging.

This function will run until a specified time, without cleaning any variable. It returns the final tick it stops before executing the first event after stop. \index{Meta\+Sim\+::\+Simulation@{Meta\+Sim\+::\+Simulation}!sim\+\_\+step@{sim\+\_\+step}}
\index{sim\+\_\+step@{sim\+\_\+step}!Meta\+Sim\+::\+Simulation@{Meta\+Sim\+::\+Simulation}}
\subsubsection[{\texorpdfstring{sim\+\_\+step()}{sim_step()}}]{\setlength{\rightskip}{0pt plus 5cm}const {\bf Tick} Meta\+Sim\+::\+Simulation\+::sim\+\_\+step (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classMetaSim_1_1Simulation_a3e7f055482210de10d68fa6d93fb628d}{}\label{classMetaSim_1_1Simulation_a3e7f055482210de10d68fa6d93fb628d}
Function to help testing and debugging.

This function performs one single simulation step. It returns the tick after the simulation step has been completed.

Normally, you should not call this function. This is used only for debugging purposes. 

The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
src/simul.\+hpp\item 
src/simul.\+cpp\end{DoxyCompactItemize}
