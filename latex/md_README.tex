A new version of the metasim library slightly redesigned

Authors\+: Giuseppe Lipari, Gerardo Lamastra, Antonino Casile, Luigi Palopoli, Cesare Bartolini

Contributors\+: Luca Abeni, Marco Caccamo, Fabio Rossi, Claudio Scordino, Fabio Cremona, Matteo Morelli, Andrea Parri

Copyright\+: Retis Laboratory, Scuola Superiore Sant\textquotesingle{}Anna email\+: \href{mailto:g.lipari@sssup.it}{\tt g.\+lipari@sssup.\+it}

This is open source software and is distributed under the terms of the Gnu Public License (G\+PL). See C\+O\+P\+Y\+I\+NG for more details. 



S\+U\+M\+M\+A\+RY


\begin{DoxyEnumerate}
\item I\+N\+T\+R\+O\+D\+U\+C\+T\+I\+ON
\item R\+E\+L\+E\+A\+SE N\+O\+T\+ES
\item C\+O\+M\+P\+I\+L\+I\+NG
\item I\+N\+S\+T\+A\+L\+L\+I\+NG
\item R\+U\+N\+N\+I\+NG T\+HE E\+X\+A\+M\+P\+L\+ES
\item A\+DD A N\+EW E\+X\+A\+M\+P\+LE
\item B\+U\+GS A\+ND C\+O\+N\+T\+R\+I\+B\+U\+T\+I\+O\+NS 


\end{DoxyEnumerate}

\subsection*{1. I\+N\+T\+R\+O\+D\+U\+C\+T\+I\+ON}

Meta\+Sim2.\+0 is a library for discrete event simulation written in C++. It has been developed as an internal project at Scuola Superiore Sant\textquotesingle{}Anna as part of many research project, mainly thanks to the work of many PhD students.

\subsection*{2. R\+E\+L\+E\+A\+SE N\+O\+T\+ES}

This software has been tested under Linux, Mac\+O\+SX and Windows. Supported (tested) compilers are\+: \begin{DoxyVerb}- g++ (Ubuntu/Linaro 4.8.1-10ubuntu9) 4.8.1
- clang++ (Apple LLVM version 5.1 (clang-503.0.40))
- Microsoft Visual Studio 2012    
\end{DoxyVerb}


We assume the user has the compiler already installed on his machine.

\subsection*{3. C\+O\+M\+P\+I\+L\+I\+NG}

The software can be compiled on any platform with the appropriate compiler as listed in section 2.

Meta\+Sim2.\+0 build system is based on C\+Make, the cross-\/platform, open-\/source build system. To compile Meta\+Sim2.\+0 you must have C\+Make (ver. $>$= 2.\+6) installed on your machine.

If you altready have C\+Make installed on your machine you can skip the following section and jump to section 3.\+2.

\subsubsection*{3.\+1. Installing C\+Make}

Follow the instructions at \href{http://www.cmake.org/cmake/help/install.html}{\tt http\+://www.\+cmake.\+org/cmake/help/install.\+html}

\subsubsection*{3.\+2. Compiling under Unix-\/like systems (including Mac OS X)}

The steps to build and install the software are the usual ones\+: \begin{DoxyVerb}cd metasim2.0
mkdir build
cd build
ccmake ..
\end{DoxyVerb}


The execution of \char`\"{}ccmake ..\char`\"{} command cause C\+Make program execution. To generate the makefile needed to compile the library, you have to press \textquotesingle{}c\textquotesingle{} key twice and then press \textquotesingle{}g\textquotesingle{}. By pressing \textquotesingle{}g\textquotesingle{} C\+Make will generate the makefile and will go back the the command line. Now you can compile the library\+: \begin{DoxyVerb}make 
\end{DoxyVerb}


Last step will compile the library, the executable for the test and the examples included with the library. Output directories are\+:
\begin{DoxyItemize}
\item src/
\item test/
\item examples/
\end{DoxyItemize}

The library is located in src/

\subsubsection*{3.\+3. Compiling under Windows}

\begin{DoxyVerb}execute CMake
\end{DoxyVerb}


In the location \char`\"{}\+Where is the source code\+:\char`\"{} indicate the path to the folder metasim2.\+0 In the location \char`\"{}\+Where to build the binaries\+:\char`\"{} indicate the path to the folder where you want to put the output (usually = \$\{Path to metasim2.\+0\}/build). Now click \char`\"{}\+Configure\char`\"{}. C\+Make will ask to specify the generator for the project. You should select Visual Studio 11 and click Finish. When the process will finish, click again on \char`\"{}\+Configure\char`\"{} and then click to \char`\"{}\+Generate\char`\"{}. This last step will generate the Visual Studio project \char`\"{}metasim.\+sln\char`\"{}. Open the folder you selected for your output and double click on the generated file \char`\"{}metasim.\+sln\char`\"{} to open the project. In Visual Studio and then in the command bar select the B\+U\+I\+LD menu and click Build Solution. Compilation process will start. Output directories are\+:
\begin{DoxyItemize}
\item src/\+Debug/
\item test/\+Debug/
\item examples/\+Debug/
\end{DoxyItemize}

The library is located in src/\+Debug

\subsubsection*{3.\+4. Test}

Beside testing is not mandatory, we highly recommend to execute it. The test suite is located in test/ (unix-\/like systems) or in /test/\+Debug (windows systems) and can be executed to test if the compilation flow went ok.


\begin{DoxyItemize}
\item For unix-\/like systems\+: cd metasim2.\+0/build cd test ./test\+\_\+metasim
\item For Windows systems\+: cd metasim2.\+0/build cd test cd Debug test\+\_\+metasim.\+exe
\end{DoxyItemize}

The execution must terminate with all tests passed.

The tests have been written using the Catch library, which is a single include file that you can find in the test directory.

\href{https://github.com/philsquared/Catch}{\tt https\+://github.\+com/philsquared/\+Catch}

\subsection*{4. I\+N\+S\+T\+A\+L\+L\+I\+NG}

Currently, installation is not supported. After compilation, all header files and the library file are found in the src/ (src/\+Debug for Windows systems) directory. Simply put the path of the src directory in the C\+P\+P\+F\+L\+A\+GS and in the L\+D\+F\+L\+A\+GS when you want to use the library.

\subsection*{5. R\+U\+N\+N\+I\+NG T\+HE E\+X\+A\+M\+P\+L\+ES}

Every directory under one of the \char`\"{}examples\char`\"{} directories contains a different example. Go inside the directory and run the executable file.

\subsubsection*{5.\+1 Unix-\/like systems}

For example, to run the eth example, go inside the directory examples/eth and type

./eth

\subsubsection*{5.\+2 Windows systems}

For example, to run the eth example, go inside the directory examples/\+Debug/eth and double click on eth.\+exe.

\subsection*{6. A\+DD A N\+EW E\+X\+A\+M\+P\+LE}

To add a new example to the library, you have to


\begin{DoxyItemize}
\item Create a new folder in metasim2.\+0/examples with the name of your example.
\item Edit the file metasim2.\+0/examples/\+C\+Make\+Lists.txt adding the specification for your example\+: add\+\_\+subdirectory(name\+\_\+of\+\_\+your\+\_\+example)
\end{DoxyItemize}

Once you wrote the code of your example, you should re-\/generate the makefile. Follow the instructions in section 3 for the generation of the makefile and compile.

\subsection*{7. B\+U\+GS A\+ND C\+O\+N\+T\+R\+I\+B\+U\+T\+I\+O\+NS}

For bug reports, feature requests and other issues you may encounter, please refer to the appropriate pages on the github site\+:

\href{http://github.com/glipari/metasim2.0}{\tt http\+://github.\+com/glipari/metasim2.\+0}

Giuseppe Lipari \href{mailto:g.lipari@sssup.it}{\tt g.\+lipari@sssup.\+it}

Fabio Cremona \href{mailto:f.cremona@sssup.it}{\tt f.\+cremona@sssup.\+it} 