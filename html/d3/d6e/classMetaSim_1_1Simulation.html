<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>MetaSimDoc: MetaSim::Simulation Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MetaSimDoc
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="../../classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
      <li><a href="../../inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>MetaSim</b></li><li class="navelem"><a class="el" href="../../d3/d6e/classMetaSim_1_1Simulation.html">Simulation</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">MetaSim::Simulation Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="../../d7/dd7/simul_8hpp_source.html">simul.hpp</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for MetaSim::Simulation:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dfa/classMetaSim_1_1Simulation__coll__graph.png" border="0" usemap="#MetaSim_1_1Simulation_coll__map" alt="Collaboration graph"/></div>
<!-- MAP 0 -->
<center><span class="legend">[<a href="../../graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a933df35120e8e0ee3fa3204d7e465323"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classMetaSim_1_1Simulation.html#a933df35120e8e0ee3fa3204d7e465323">dbgEnter</a> (std::string lev, std::string header)</td></tr>
<tr class="separator:a933df35120e8e0ee3fa3204d7e465323"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4619686b6133632beae97f4af3d78092"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classMetaSim_1_1Simulation.html#a4619686b6133632beae97f4af3d78092">dbgExit</a> ()</td></tr>
<tr class="separator:a4619686b6133632beae97f4af3d78092"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad28462de8ce42a66b4319e1b49a499ec"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classMetaSim_1_1Simulation.html#ad28462de8ce42a66b4319e1b49a499ec">run</a> (<a class="el" href="../../d2/d7e/classMetaSim_1_1Tick.html">Tick</a> length, int runs=1)</td></tr>
<tr class="separator:ad28462de8ce42a66b4319e1b49a499ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5d3b77ec77e53d88be1ace99f957e87"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="../../d2/d7e/classMetaSim_1_1Tick.html">Tick</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classMetaSim_1_1Simulation.html#ad5d3b77ec77e53d88be1ace99f957e87">getTime</a> ()</td></tr>
<tr class="separator:ad5d3b77ec77e53d88be1ace99f957e87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75de7a10a8d62b283737bec56ad5456f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classMetaSim_1_1Simulation.html#a75de7a10a8d62b283737bec56ad5456f">clearEventQueue</a> ()</td></tr>
<tr class="separator:a75de7a10a8d62b283737bec56ad5456f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11e3774646883be33b004c6680d390e7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a11e3774646883be33b004c6680d390e7"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>print</b> ()</td></tr>
<tr class="separator:a11e3774646883be33b004c6680d390e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e7f055482210de10d68fa6d93fb628d"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="../../d2/d7e/classMetaSim_1_1Tick.html">Tick</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classMetaSim_1_1Simulation.html#a3e7f055482210de10d68fa6d93fb628d">sim_step</a> ()</td></tr>
<tr class="separator:a3e7f055482210de10d68fa6d93fb628d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b556621a2c4efb505d8c8a93773271e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classMetaSim_1_1Simulation.html#a8b556621a2c4efb505d8c8a93773271e">initRuns</a> (int nRuns=1)</td></tr>
<tr class="separator:a8b556621a2c4efb505d8c8a93773271e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8f7bba6a5931e6842404cc7a55b1fb5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classMetaSim_1_1Simulation.html#ac8f7bba6a5931e6842404cc7a55b1fb5">initSingleRun</a> ()</td></tr>
<tr class="separator:ac8f7bba6a5931e6842404cc7a55b1fb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90e6e0fdc8579f456fd49c992421285e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classMetaSim_1_1Simulation.html#a90e6e0fdc8579f456fd49c992421285e">endSingleRun</a> ()</td></tr>
<tr class="separator:a90e6e0fdc8579f456fd49c992421285e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af25030e87f1733ca9cd82f883833e458"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="../../d2/d7e/classMetaSim_1_1Tick.html">Tick</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d6e/classMetaSim_1_1Simulation.html#af25030e87f1733ca9cd82f883833e458">run_to</a> (const <a class="el" href="../../d2/d7e/classMetaSim_1_1Tick.html">Tick</a> &amp;stop)</td></tr>
<tr class="separator:af25030e87f1733ca9cd82f883833e458"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:aff464ebe32d24a847be09df768afbdd4"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aff464ebe32d24a847be09df768afbdd4"></a>
static <a class="el" href="../../d3/d6e/classMetaSim_1_1Simulation.html">Simulation</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>getInstance</b> ()</td></tr>
<tr class="separator:aff464ebe32d24a847be09df768afbdd4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a99e0b432ba6f7b376fd57b892d310df0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a99e0b432ba6f7b376fd57b892d310df0"></a>
<a class="el" href="../../d4/d79/classMetaSim_1_1DebugStream.html">DebugStream</a>&#160;</td><td class="memItemRight" valign="bottom"><b>dbg</b></td></tr>
<tr class="separator:a99e0b432ba6f7b376fd57b892d310df0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This singleton implements the simulation engine and some debugging facilities. The main function is <em>run(<a class="el" href="../../d2/d7e/classMetaSim_1_1Tick.html">Tick</a> lenght, size_t runs)</em> that is responsible for running the simulation for one or more times.</p>
<p>The <em><a class="el" href="../../d3/d6e/classMetaSim_1_1Simulation.html#ad5d3b77ec77e53d88be1ace99f957e87">getTime()</a></em> returns the current globalTime in the simulation; the dbg object is used for debugging output.</p>
<dl class="section author"><dt>Author</dt><dd>Giuseppe Lipari, Gerardo Lamastra </dd></dl>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a75de7a10a8d62b283737bec56ad5456f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MetaSim::Simulation::clearEventQueue </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Drops and eventually deletes all events in the queue. To be called after an exception! </p>

</div>
</div>
<a class="anchor" id="a933df35120e8e0ee3fa3204d7e465323"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MetaSim::Simulation::dbgEnter </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>lev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>header</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enters the <em>lev</em> debug level.</p>
<p>This function specifies that we are entering in the <em>lev</em> debug level and outputs the current simulation time follewed by the <em>header</em> string.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lev</td><td>A string that specifies the current debugging level.</td></tr>
    <tr><td class="paramname">header</td><td>This string that can be used for context sensitive information. For example, for printing the name of the function we are entering in.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d4/d79/classMetaSim_1_1DebugStream.html">DebugStream</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a4619686b6133632beae97f4af3d78092"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MetaSim::Simulation::dbgExit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Exits from the current debug level.</p>
<p>This function specifies that we are exiting the current debug level.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d4/d79/classMetaSim_1_1DebugStream.html">DebugStream</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a90e6e0fdc8579f456fd49c992421285e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MetaSim::Simulation::endSingleRun </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Function to help testing and debugging. </p>

</div>
</div>
<a class="anchor" id="ad5d3b77ec77e53d88be1ace99f957e87"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="../../d2/d7e/classMetaSim_1_1Tick.html">Tick</a> MetaSim::Simulation::getTime </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the current simulation time. </p>

</div>
</div>
<a class="anchor" id="a8b556621a2c4efb505d8c8a93773271e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MetaSim::Simulation::initRuns </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nRuns</em> = <code>1</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Function to help testing and debugging.</p>
<p>Initializes the simulation runs. To be called just once before every simulation run.</p>
<p>Normally, this function is called from the <a class="el" href="../../d3/d6e/classMetaSim_1_1Simulation.html#ad28462de8ce42a66b4319e1b49a499ec">Simulation::run()</a>. It is exposed here as an interface for debugging. </p>

</div>
</div>
<a class="anchor" id="ac8f7bba6a5931e6842404cc7a55b1fb5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MetaSim::Simulation::initSingleRun </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Function to help testing and debugging.</p>
<p>Initializes a simulation run. To be called before the start of every simulation run.</p>
<p>Normally, this function is called from the <a class="el" href="../../d3/d6e/classMetaSim_1_1Simulation.html#ad28462de8ce42a66b4319e1b49a499ec">Simulation::run()</a>. It is exposed here as an interface for debugging.</p>
<p>An example of debug call sequence is the following: </p><div class="fragment"><div class="line"><span class="comment">// (simulation objects creation and initialization)</span></div><div class="line"><a class="code" href="../../d3/d6e/classMetaSim_1_1Simulation.html#a8b556621a2c4efb505d8c8a93773271e">initRuns</a>();</div><div class="line"><a class="code" href="../../d3/d6e/classMetaSim_1_1Simulation.html#ac8f7bba6a5931e6842404cc7a55b1fb5">initSingleRun</a>();</div><div class="line"><a class="code" href="../../d3/d6e/classMetaSim_1_1Simulation.html#af25030e87f1733ca9cd82f883833e458">run_to</a>(100);     <span class="comment">// run up to tick 100</span></div><div class="line"><span class="comment">// check object status</span></div><div class="line"><a class="code" href="../../d3/d6e/classMetaSim_1_1Simulation.html#a3e7f055482210de10d68fa6d93fb628d">sim_step</a>();      <span class="comment">// run one step</span></div><div class="line"><span class="comment">// check object status</span></div><div class="line"><span class="comment">// ...</span></div></div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="ad28462de8ce42a66b4319e1b49a499ec"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MetaSim::Simulation::run </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d7e/classMetaSim_1_1Tick.html">Tick</a>&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>runs</em> = <code>1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function is the main simulator engine. After defining all the objects in a simulation, this function should be invoked for running the simulation.</p>
<div class="fragment"><div class="line"><span class="comment">// create entities ane events, link them to each other</span></div><div class="line"><span class="comment">// create statistics and traces, attach them to the events</span></div><div class="line"></div><div class="line"><a class="code" href="../../d3/d6e/classMetaSim_1_1Simulation.html#ad28462de8ce42a66b4319e1b49a499ec">Simulation::run</a>(10000, 10);   <span class="comment">// run simulation 10 times, each one for 10000 ticks</span></div><div class="line"></div><div class="line"><span class="comment">// collect and save statistics on files</span></div></div><!-- fragment --><p>At the beginning and at the end of each run, initialization and and finalization are called, respectively, namely the <a class="el" href="../../d0/d41/classMetaSim_1_1Entity.html#a8d146c2ea3472c964f84cf20880ac0c9">Entity::newRun()</a> and <a class="el" href="../../d0/d41/classMetaSim_1_1Entity.html#aaf0dfabd7805ec027aa46b9b94a87e5b">Entity::endRun()</a>. The random seed is not initialized at every run, but it is left as it is.</p>
<p>Of course, it makes sense to run multiple replicas of the same simulation only if the simulation itself includes random variables, otherwise the result will always be the same. See the statistical section for more details.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">length</td><td>Length of each simulation run. </td></tr>
    <tr><td class="paramname">runs</td><td>Number of replicas. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="af25030e87f1733ca9cd82f883833e458"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="../../d2/d7e/classMetaSim_1_1Tick.html">Tick</a> MetaSim::Simulation::run_to </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d2/d7e/classMetaSim_1_1Tick.html">Tick</a> &amp;&#160;</td>
          <td class="paramname"><em>stop</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Function to help testing and debugging.</p>
<p>This function will run until a specified time, without cleaning any variable. It returns the final tick it stops before executing the first event after stop. </p>

</div>
</div>
<a class="anchor" id="a3e7f055482210de10d68fa6d93fb628d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="../../d2/d7e/classMetaSim_1_1Tick.html">Tick</a> MetaSim::Simulation::sim_step </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Function to help testing and debugging.</p>
<p>This function performs one single simulation step. It returns the tick after the simulation step has been completed.</p>
<p>Normally, you should not call this function. This is used only for debugging purposes. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="../../d7/dd7/simul_8hpp_source.html">simul.hpp</a></li>
<li>src/simul.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
